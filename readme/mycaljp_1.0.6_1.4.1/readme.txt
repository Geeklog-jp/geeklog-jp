----------------------------------------------------------------------------------
タイトル   : Geeklog Site Calendar Block 'mycaljp'
バージョン : 1.0.6 (2007.10.16)
著者       : Yoshinori Tahara - dengen
Homepage   : http://www.trybase.com/~dengen/log/
説明       : Geeklog用サイトカレンダーです。Geeklog 1.4.1以降用。
----------------------------------------------------------------------------------

概要
----
Geeklog用サイトカレンダーです。Blaine Lang氏が開発した、
「Integrated Geeklog Site Calendar 'mycal' Version 2.5」の日本語版をベースにして
機能変更を行ったものです。

'mycal' Version 2.5 との主な相違点は次のとおりです。
　　コンテンツがある日付だけリンクを張っている。（こちらの方が一般的ですね）
　　記事のイントロの表示が可能。
　　テンプレートの導入。（ユーザが自由にスタイルを変更できる）
　　コンフィギュレーションが可能。（検索対象の絞り込みなど、設定変更が可能）
　　土、日、日本の休日の色分け表示が可能。
　　月間、年間の検索が可能。

チェック(検索)しているコンテンツはカレンダのイベント、記事、コメント、リンク、掲示板
のトピック、ダウンロード(filemgmt)です。


インストール方法
----------------
Step 1)
"phpblock_mycaljp.php" を "[非公開ディレクトリ]/system/custom" へコピーしてください。

Step 2)
"[非公開ディレクトリ]/system/lib-custom.php"をテキストエディタで開き、
"<?php" から "?>"の間の適当な位置に次の文字列、

require_once( 'custom/phpblock_mycaljp.php' );

を挿入し保存してください。

Step 3)
公開ディレクトリへ、ディレクトリ "mycaljp" およびその中の全てのファイルをコピーして
ください。

Step 4)
ブロック管理権限をもつユーザーでログインし、以下を参考にして、サイトカレンダー
表示用ブロックを作成してください。
　　タイトル : "サイトカレンダー"
　　タイプ   : "PHPブロック"
　　関数     : "phpblock_mycaljp"

以上で、とりあえず動作するはずです。


カスタマイズ方法（スタイルやレイアウトの変更）
---------------------------------------------
Step 1)
ディレクトリ "layout" 下の、ディレクトリ "mycaljp" およびその中の全てのファイルを、
ご使用中のテーマディレクトリ内にコピーしてください。

Step 2)
ご使用中のテーマのスタイルシート（通常は "style.css" ）をテキストエディタで開き、
テキストの最後に次の文字列、

@import url("mycaljp/mycaljp.css");

を挿入し保存してください。

Step 3)
スタイルシートの"[テーマディレクトリ]/mycaljp/mycaljp.css"や、テンプレートファイルの
"[テーマディレクトリ]/mycaljp/*.thtml"をお好みに合わせて変更してください。


カスタマイズ方法（コンフィグレーションの変更）
---------------------------------------------
Step 1)
"[非公開ディレクトリ]/system/custom/phpblock_mycaljp.php"の39行から125行までの間に、
設定変更可能な変数を定義しています。お好みに合わせて値を変更してください。


バージョン履歴
--------------
mycal修正版
Ver.0.10 (2007.1.8)   Geeklog Japanese で初公開
Ver.0.20 (2007.1.21)  日本語版標準パッケージ(20061121版)に同梱されているオリジナル版
　　　　　　　　　　  への修正(ロケールを提供しないサーバへの対応)を同様に適用しまし
　　　　　　　　　　  た。また列幅が均等になるようCSSを修正しました。
Ver.0.30 (2007.2.14)  先月または翌月のイベントが表示されてしまう不具合を修正しました。

mycaljp
Ver.1.00 (2007.5.14)  Geeklog1.4.1に対応．テンプレートの導入．
　　　　　　　　　　  コンフィギュレーションの導入．
　　　　　　　　　　  検索結果表示のカスタマイズ．土・日・日本の休日の色分け表示．
　　　　　　　　　　  月間、年間の検索を追加．filemgmtに対応．
Ver.1.01 (2007.5.14)  日付のクラス設定のバグを修正．
Ver.1.0.2 (2007.5.17) 記事の日付のハイライト機能を追加．小さな不具合修正．
Ver.1.0.3 (2007.5.20) 数日にまたがるイベントの表示・検索に対応．
Ver.1.0.4 (2007.6.14) wkyevecal に対応．
Ver.1.0.5 (2007.9.4)  日本の休日の判定ミス（春分の日、秋分の日の振替休日の判定ミス）
　　　　　　　　　　  を修正.
Ver.1.0.6 (2007.10.16)XSS脆弱性の修正（Phizeさん感謝！）
